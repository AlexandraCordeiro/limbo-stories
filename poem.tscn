[gd_scene load_steps=7 format=3 uid="uid://bwf8d0ihk67l8"]

[ext_resource type="TileSet" uid="uid://ct6sw08d4ado6" path="res://diary_tile_set.tres" id="1_270ab"]
[ext_resource type="FontFile" uid="uid://dvi1mrl7seh6x" path="res://fonts/ReenieBeanie-Regular.ttf" id="2_r2elv"]
[ext_resource type="Script" path="res://poem_collision.gd" id="3_u8r5n"]
[ext_resource type="Script" path="res://closePoemButton.gd" id="4_uod0c"]

[sub_resource type="CircleShape2D" id="CircleShape2D_r6dio"]
radius = 10.7616

[sub_resource type="CircleShape2D" id="CircleShape2D_6t1o5"]
radius = 8.34416

[node name="Poem" type="Node2D"]
scale = Vector2(4, 4)

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
rotation = 0.000828615
tile_set = ExtResource("1_270ab")
format = 2
layer_0/name = "table"
layer_0/tile_data = PackedInt32Array(16, 3407887, 0, 65552, 3407887, 1, 17, 3473423, 0, 65553, 3473423, 1)
layer_1/name = "other_elements"
layer_1/tile_data = PackedInt32Array(458759, 1441800, 8)
layer_2/name = "diary"
layer_2/tile_data = PackedInt32Array(65538, 2097160, 5, 131074, 2097160, 6, 196610, 2097160, 7, 262146, 2097160, 6, 327682, 2097160, 7, 393218, 2097160, 6, 458754, 2097160, 7, 524290, 2097160, 8, 65539, 2162696, 5, 131075, 2162696, 7, 196611, 2162696, 7, 262147, 2162696, 7, 327683, 2162696, 7, 393219, 2162696, 7, 458755, 2162696, 7, 524291, 2162696, 8, 65540, 2162696, 5, 131076, 2162696, 7, 196612, 2162696, 7, 262148, 2162696, 7, 327684, 2162696, 7, 393220, 2162696, 7, 458756, 2162696, 7, 524292, 2162696, 8, 65541, 2162696, 5, 131077, 2162696, 7, 196613, 2162696, 7, 262149, 2162696, 7, 327685, 2162696, 7, 393221, 2162696, 7, 458757, 2162696, 7, 524293, 2162696, 8, 65542, 2162696, 5, 131078, 2162696, 7, 196614, 2162696, 7, 262150, 2162696, 7, 327686, 2162696, 7, 393222, 2162696, 7, 458758, 2162696, 7, 524294, 2162696, 8, 65543, 2162696, 5, 131079, 2162696, 7, 196615, 2162696, 7, 262151, 2162696, 7, 327687, 2162696, 7, 393223, 2162696, 7, 458759, 2162696, 7, 524295, 2162696, 8, 65544, 2228232, 5, 131080, 2228232, 7, 196616, 2228232, 7, 262152, 2228232, 7, 327688, 2228232, 7, 393224, 2228232, 7, 458760, 2228232, 7, 524296, 2228232, 8)
layer_3/name = "writing"
layer_3/tile_data = PackedInt32Array()
layer_4/name = "photo"
layer_4/tile_data = PackedInt32Array()
layer_5/name = "alex"
layer_5/tile_data = PackedInt32Array()
layer_6/name = "ui"
layer_6/tile_data = PackedInt32Array()
layer_7/name = "poem"
layer_7/tile_data = PackedInt32Array()
layer_8/name = "others"
layer_8/tile_data = PackedInt32Array()

[node name="RichTextLabel2" type="RichTextLabel" parent="."]
offset_left = 44.0
offset_top = 23.0
offset_right = 1964.0
offset_bottom = 2343.0
scale = Vector2(0.05, 0.05)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("2_r2elv")
theme_override_font_sizes/normal_font_size = 94
text = "Pay close attention,
as any false step in your path
To the entrance will seamlessly
send you right back.

When beds of roses stand before you,
go where there are plenty.
Bluebells are more subtle,
not too little, not too many.

The forest will walk us through
all the whimsy and the blight,
With blessings of guidance
in the form of stars, under broad daylight.

When the thicket's dense,
and your surroundings give no clues,
Stay vigilant to sounds
that might scare and confuse.

And right before you find
the beauty in the afterglow,
Where the birds follow
the wind is where you will go."

[node name="Area2D" type="Area2D" parent="."]
position = Vector2(272, 14.5)
script = ExtResource("3_u8r5n")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-0.25, 0.25)
shape = SubResource("CircleShape2D_r6dio")

[node name="closePoemButton" type="Area2D" parent="."]
script = ExtResource("4_uod0c")

[node name="CollisionShape2D" type="CollisionShape2D" parent="closePoemButton"]
position = Vector2(271.75, 14.5)
shape = SubResource("CircleShape2D_6t1o5")

[connection signal="body_entered" from="Area2D" to="Area2D" method="_on_body_entered"]
[connection signal="body_exited" from="Area2D" to="Area2D" method="_on_body_exited"]
[connection signal="input_event" from="Area2D" to="Area2D" method="_on_input_event"]
[connection signal="body_entered" from="closePoemButton" to="closePoemButton" method="_on_body_entered"]
[connection signal="body_exited" from="closePoemButton" to="closePoemButton" method="_on_body_exited"]
[connection signal="input_event" from="closePoemButton" to="Area2D" method="_on_close_diary_button_input_event"]
[connection signal="input_event" from="closePoemButton" to="closePoemButton" method="_on_input_event"]
